extends layout

block content
  div.w3-card-4
    header.w3-container.w3-blue
      h1
        i.fa.fa-home.clickable(onclick="window.location='/'" style="cursor:pointer;") 
        | Distribuição por Sexo
    div.w3-row
      div.w3-col.m3.l2(style="position:sticky;top:0;")
        h2(style="margin:5px;") Sexos
        ul.w3-ul.w3-hoverable
          each sex in sexos
            - var num = pessoas.filter(p => p.sexo == sex).length
            li.clickable(onclick="window.location='#" + sex + "'" style="cursor:pointer;") #{sex} (#{num})
      div.w3-col.m9.l10
        div.w3-container
          each sex in sexos
            - var pessoas_sexo = pessoas.filter(p => p.sexo == sex).sort((p1,p2) => p1.nome < p2.nome ? -1 : 1)
            a(name=sex)
            h2 #{sex.charAt(0).toUpperCase() + sex.slice(1)}
            table.w3-table-all
              thead
                tr
                  th ID
                  th Nome
                  th Idade
                  th Sexo
                  th Cidade
              each p in pessoas_sexo
                tr.clickable(onclick="window.location='/pessoas/" + p.id + "'" style='cursor:pointer;')
                  td #{p.id}
                  td #{p.nome}
                  td #{p.idade}
                  td #{p.sexo}
                  td #{p.morada.cidade}
    footer.w3-container.w3-blue.w3-center
      h5 Generated in RPCW2023 in #{d}